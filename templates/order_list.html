{% extends 'base.html' %}
{% block title %} List Order {% endblock %}
{% block search %}
{% endblock %}
{% block nav %}

    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="{% url 'car_list' %}"><span class="fas fa-list"></span> Car List</a></li>
        <li><a href="{% url 'order_list' %}"><span class="fas fa-clipboard-list"></span> Order List</a></li>
        <li><a href="{% url 'contact' %}"><span class="fas fa-envelope"></span> Contact</a></li>
        <li><a href="{% url 'order_create' %}"><span class="fas fa-plus"></span> Create Order</a></li>
        <li><a href="{% url 'logout' %}"><span class="fas fa-sign-out-alt"></span> Logout</a></li>
      </ul>
    </div>

{% endblock %}
{% block body %}
<div class='container table-responsive'>
<div class="panel panel-primary">
  <!-- Default panel contents -->
  <div class="panel-heading"><strong><span class="fas fa-clipboard-list"></span> All Order List</strong> </div>
    <div class="panel-body">
    <strong class="navbar-form navbar-left" style="color: #5f5f5f;"><span class="fas fa-cog"></span> 25 Order Display Per Page </strong>
    {% block search_box %}
      <form method="GET" class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="text" class="form-control" placeholder="Order Search" value="{{request.GET.q}}" name="q">
        </div>
        <button type="submit" class="btn btn-success"><span class="fas fa-search"></span> Search</button>
      </form>
      {% endblock %}

  <!-- Table -->
  <table class="table table-bordered table-striped table-hover">
   <tr>
     <td><strong>Order ID</strong></td>
   <td><strong>Client Name</strong></td>
   <td><strong>Phone No</strong></td>
    <td><strong>Car Name</strong></td>
    <td><strong>Start Date</strong></td>
    <td><strong>End Date</strong></td>
    <td><strong>Total Amount</strong></td>
    <td><strong>Status</strong></td>
    <td><strong>Action</strong></td>
  </tr>

      {% for ob in order %}
    <tr>
    <td>{{ob.order_id}}</td>
    <td>{{ob.client.first_name}} {{ob.client.last_name}}</td>
    <td>{{ob.client.phone_number}}</td>
    <td>{{ob.car.car_name}}</td>
    <td>{{ob.start_date|date:"M d, Y H:i"}}</td>
    <td>{{ob.end_date|date:"M d, Y H:i"}}</td>
    <td>{{ob.total_amount}} Tk</td>
    <td><span class="badge badge-{% if ob.status == 'pending' %}warning{% elif ob.status == 'confirmed' %}primary{% elif ob.status == 'ongoing' %}info{% elif ob.status == 'completed' %}success{% else %}danger{% endif %}">{{ob.status|title}}</span></td>
    <td>

         <a href="{% url 'order_detail' ob.id %}"><button type="button" class="btn btn-info"><span class="fas fa-eye"></span></button></a>
         <a href="{% url 'order_delete' ob.id %}"><button type="button" class="btn btn-danger"><span class="fas fa-trash"></span></button></a>

    </td>
</tr>
    {% endfor %}

  </table>



<nav>
  <ul class="pager">
    <li class="previous">{% if order.has_previous %}
            <a href="?page={{ order.previous_page_number }}" style="background-color:#1aa3ff !important; color: white !important;"><span aria-hidden="true">&larr;</span> Previous</a>
    {% endif %}
    </li>
      <li class="previous">
         <strong> Page {{ order.number }} of {{ order.paginator.num_pages }}.</strong>

    </li>
    <li class="next">{% if order.has_next %}
            <a href="?page={{ order.next_page_number }}" style="background-color:#1aa3ff !important; color: white !important;">
        Next <span aria-hidden="true">&rarr;</span></a>{% endif %}</li>
  </ul>
</nav>
    <hr>

    </div>
    </div>
{% endblock %}